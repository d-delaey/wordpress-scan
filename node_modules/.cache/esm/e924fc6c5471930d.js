let arg,inquirer,Scanner;_547‍.x([["cli",()=>cli]]);_547‍.w("arg",[["default",["arg"],function(v){arg=v}]]);_547‍.w("inquirer",[["default",["inquirer"],function(v){inquirer=v}]]);_547‍.w("./scanner",[["default",["Scanner"],function(v){Scanner=v}]]);




async function parseArguments(rawArgs) {
    const args = arg(
        {
            "--host": String,
            "--username": String,
            "--password": String,
            "--key": String,
            "--port": Number,
        },
        {
            argv: rawArgs.slice(2),
        }
    );
    let options = {
        host: args["--host"] || false,
        username: args["--username"] || false,
        password: args["--password"] || false,
        port: args["--port"] || false,
        key: args["--key"] || false,
    };

    if (!options.host || !options.username) {
        throw new Error("missing required arguments");
    }

    /* If Password is not passed as a Argument start a prompt to fill in the password */
    if (!options.password && !options.key) {
        await inquirer
            .prompt({
                type: "input",
                name: "password",
                message: "Enter SSH Pasword:",
            })
            .then((password) => {
                options.password = password.password;
            });
    }

    return options;
}

       async function cli(args) {
    let options = await parseArguments(args);
    //console.log(options);

    let scanner = new Scanner(
        options.host,
        options.username,
        options.password,
        options.key
    );
    scanner.connect();
    //scanner.getWordPressVersion();
}
